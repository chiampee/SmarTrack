━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
🔐 QUICK GUIDE: Add Auth0 to Render Backend
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

📋 STEP 1: Get Auth0 Credentials
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

Go to: https://manage.auth0.com/dashboard
→ Applications → SmarTrack Commercial → Settings

Copy these 3 values:
  1. Domain:        your-tenant.auth0.com
  2. Client ID:     xxxxxxxxxxxxx
  3. Client Secret: xxxxxxxxxxxxx (click eye icon)

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
🔧 STEP 2: Add to Render
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

Go to: https://dashboard.render.com/
→ Select "smartrack-back" service
→ Click "Environment" (left sidebar)
→ Click "Add Environment Variable"

Add these variables:

┌────────────────────────────────────────────────────────┐
│ Key: AUTH0_DOMAIN                                      │
│ Value: your-tenant.auth0.com                           │
└────────────────────────────────────────────────────────┘

┌────────────────────────────────────────────────────────┐
│ Key: AUTH0_CLIENT_ID                                   │
│ Value: paste_your_client_id_here                       │
└────────────────────────────────────────────────────────┘

┌────────────────────────────────────────────────────────┐
│ Key: AUTH0_CLIENT_SECRET                               │
│ Value: paste_your_client_secret_here                   │
└────────────────────────────────────────────────────────┘

┌────────────────────────────────────────────────────────┐
│ Key: AUTH0_AUDIENCE                                    │
│ Value: https://your-tenant.auth0.com/api/v2/          │
└────────────────────────────────────────────────────────┘

┌────────────────────────────────────────────────────────┐
│ Key: FRONTEND_URL                                      │
│ Value: https://smartracker.vercel.app                  │
└────────────────────────────────────────────────────────┘

┌────────────────────────────────────────────────────────┐
│ Key: ALLOWED_ORIGINS                                   │
│ Value: https://smartracker.vercel.app,https://smartrack.top,http://localhost:5173 │
└────────────────────────────────────────────────────────┘

Click "Save Changes" → Render will auto-redeploy (2-3 min)

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
🌐 STEP 3: Update Auth0 Allowed URLs
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

Go to: https://manage.auth0.com/dashboard
→ Applications → SmarTrack Commercial → Settings

ALLOWED CALLBACK URLs (paste all, one per line):
  https://smartracker.vercel.app/callback
  https://smartrack.top/callback
  https://smartrack-back.onrender.com/callback
  http://localhost:5173/callback
  http://localhost:3000/callback

ALLOWED LOGOUT URLs (paste all, NO /callback):
  https://smartracker.vercel.app
  https://smartrack.top
  https://smartrack-back.onrender.com
  http://localhost:5173
  http://localhost:3000

ALLOWED WEB ORIGINS (paste all, NO /callback):
  https://smartracker.vercel.app
  https://smartrack.top
  https://smartrack-back.onrender.com
  http://localhost:5173
  http://localhost:3000

Click "Save Changes"

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
✅ STEP 4: Verify
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

Wait 2-3 minutes for Render deployment, then test:

  curl https://smartrack-back.onrender.com/

Should return:
  {
    "status": "healthy",
    "auth0": "configured",
    "mongodb": "connected"
  }

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
🎯 YOUR URLS
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

Frontend:  https://smartracker.vercel.app
           https://smartrack.top

Backend:   https://smartrack-back.onrender.com

Auth0:     https://manage.auth0.com/dashboard

Render:    https://dashboard.render.com/

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
🔐 IMPORTANT RULES
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

✅ Callback URLs:   MUST have /callback
✅ Logout URLs:     NO /callback
✅ Web Origins:     NO /callback
✅ Client Secret:   ONLY in backend (never frontend)
✅ Replace "your-tenant" with YOUR actual Auth0 domain

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

Done! 🎉

